---
node_role: controller
services:
  - name: controller
    description: "IPD Controller Service"
    type: go
    binary: controller
    build_path: ./main/
    working_dir: "{{ app_base_dir }}/project"
  - name: api_server
    description: "IPD API Server"
    type: python
    script: main/api_server.py
    port: 8000
    working_dir: "{{ app_base_dir }}/project"

python_requirements:
  # --- Core ---
  - numpy
  - pandas
  - matplotlib
  - seaborn
  - scipy
  # --- Flask Web App ---
  - Flask==3.1.2
  - Werkzeug==3.1.3
  - itsdangerous==2.2.0
  - Jinja2==3.1.6
  # --- Machine Learning ---
  - tensorflow==2.20.0
  - tensorboard==2.20.0
  # --- PyTorch CPU builds ---
  - torch==2.9.0
  - torchvision==0.24.0
  - torchaudio==2.9.0
  # --- YOLO (Ultralytics) ---
  - ultralytics==8.3.226
  - ultralytics-thop==2.0.18
  - opencv-python==4.12.0.88
  # --- Utilities ---
  - fsspec
  - tqdm
  - protobuf
  - Pillow
  - requests
  - rich
  - psutil
  # --- Optional useful libs ---
  - scikit-learn
  - joblib
  - webrtc
